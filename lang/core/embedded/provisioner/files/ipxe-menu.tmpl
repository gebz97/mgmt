#!ipxe

menu iPXE Boot Options

item kickstart Install {{ .distro }} {{ .version }} {{ .arch }} ( kickstart )
item manual Install {{ .distro }} {{ .version }} {{ .arch }} ( manual )
item shell iPXE shell
item exit Exit to BIOS

choose --default kickstart --timeout 10000 option && goto ${option}

:kickstart
set server_root {{ .server_base }}
kernel ${server_root}{{ .distro }}{{ .version }}-{{ .arch }}/vmlinuz inst.repo={{ .inst_repo_base }}releases/{{ .version }}/{{ .flavour }}/{{ .arch }}/os/ inst.text inst.ks={{ .ks }} ip=dhcp initrd=initrd.magic console=ttyS1,115200n8
initrd ${server_root}{{ .distro }}{{ .version }}-{{ .arch }}/initrd.img
boot


:kickstartold2
kernel {{ .server_base }}{{ .distro }}{{ .version }}-{{ .arch }}/vmlinuz ip=dhcp inst.repo={{ .inst_repo_base }}releases/{{ .version }}/{{ .flavour }}/{{ .arch }}/os/ inst.ks={{ .ks }}
initrd {{ .server_base }}{{ .distro }}{{ .version }}-{{ .arch }}/initrd.img
boot


:kickstartold1
set server_root {{ .server_base }}
kernel ${server_root}{{ .distro }}{{ .version }}-{{ .arch }}/vmlinuz ip=dhcp initrd=initrd.img inst.repo={{ .inst_repo_base }}releases/{{ .version }}/{{ .flavour }}/{{ .arch }}/os/ inst.ks={{ .ks }}
initrd ${server_root}{{ .distro }}{{ .version }}-{{ .arch }}/initrd.img
boot

:manual
kernel {{ .server_base }}{{ .distro }}{{ .version }}-{{ .arch }}/vmlinuz ip=dhcp inst.repo={{ .inst_repo_base }}releases/{{ .version }}/{{ .flavour }}/{{ .arch }}/os/
initrd {{ .server_base }}{{ .distro }}{{ .version }}-{{ .arch }}/initrd.img
boot

:manualold
set server_root {{ .server_base }}
kernel ${server_root}{{ .distro }}{{ .version }}-{{ .arch }}/vmlinuz ip=dhcp initrd=initrd.img inst.repo={{ .inst_repo_base }}releases/{{ .version }}/{{ .flavour }}/{{ .arch }}/os/
initrd ${server_root}{{ .distro }}{{ .version }}-{{ .arch }}/initrd.img
boot

:shell
shell

:exit
exit
